# 业务服务启动类

<br/>

1. 启动类会在 com.maozi 包下，类名为：XxxApplication.java
   
   <br/>
2. 启动类继承
   ```
     # 不依赖DB的则继承
   BaseApplication.java  
   
   # 依赖DB的则继承
   BaseApplicationDB.java
   
   # 调用
   
   public static void main(String[] args) {
   	ApplicationRun();
   }
   ```

<br/>

3. 启动后首先会加载  src/main/resources/bootstap.properties 文件
   ```
   # 服务名称,最终注册到Nacos的名称会自动拼接为maozi-cloud-system
   application-project-abbreviation=system
   
   # Nacos加载配置文件
   spring.cloud.nacos.config.shared-dataids=${application-nacos-config-service}
   
   # Nacos监听变更刷新配置文件
   spring.cloud.nacos.config.refreshable-dataids=${spring.application.name}.yml
   ```

<br/>

4. 启动后会默认加载以下配置文件
   ```
   # 默认加载
   cloud-nacos.yml
   cloud-dubbo.yml
   cloud-sentinel.yml
   boot-monitor.yml
   api-whitelist.yml
   cloud-oauth.yml
   boot-redis.yml
   boot-swagger.yml
   boot-lock.yml
   boot-arthas.yml
   cloud-default.yml
   maozi-cloud-${application-project-abbreviation}.yml
   
   # 依赖DB会额外加载其他文件
   boot-datasource.yml
   boot-db.yml
   
   ```

<br/>

5. maozi-cloud-${application-project-abbreviation}.yml 配置说明
   ```
   project:
     title: XXX服务
     details: 管理 XXX 等功能
   
   # HTTP服务端口,只用改2000其他不变
   # 默认为：0 随机端口
   application-port: ${application-dev-port:2000}
   
   # Dubbo服务端口,只用改20881其他不变
   # 默认为：-1 随机端口
   application-dubbo-port: ${application-dev-dubbo-port:20881}
   
   # 数据库地址
   # 默认为：maozi-cloud-mysql:3306
   application-datasource-jdbc-url: localhost:3306
   
   # 数据库账号
   # 默认为：root
   application-datasource-jdbc-username: root
   
   # 数据库密码
   # 默认为：password
   # application-datasource-jdbc-password: password
   
   # 数据库名称
   # 默认为：maozi-cloud-${application-project-abbreviation}-${project.environment}-db
   application-datasource-db-name: maozi-cloud-system-localhost-db
   
   # 接口白名单,跳过checkToken逻辑
   application-project-whitelist: /user/platform/v1/getToken,/config/global/system/get
   ```

<br/>

6. 启动完成后会在控制台打印
   ```
   [ 2024-01-14 01:13:01 ]  [ level：INFO ]  [ TID: N/A ]  [ service：maozi-cloud-system ]  [ environment：test ]  [ InitTime：117098 ms ]  [ Nacos：maozi-cloud-nacos:8848 ]  [ Config：cloud-nacos.yml,cloud-dubbo.yml,cloud-sentinel.yml,boot-monitor.yml,api-whitelist.yml,cloud-oauth.yml,boot-redis.yml,boot-swagger.yml,boot-lock.yml,boot-arthas.yml,cloud-default.yml,boot-datasource.yml,boot-db.yml ]
   ```